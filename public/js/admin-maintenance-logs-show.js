(self.webpackChunk=self.webpackChunk||[]).push([[4906],{47379:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var r=t(94015),o=t.n(r),a=t(23645),s=t.n(a)()(o());s.push([n.id,".log[data-v-906f4f1a]{max-height:65vh;overflow-x:hidden;overflow-y:scroll}","",{version:3,sources:["webpack://./resources/js/pages/admin/maintenance/logs/show.vue"],names:[],mappings:"AA+FA,sBACE,eAAA,CACA,iBAAA,CACA,iBA9FF",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.log {\r\n  max-height: 65vh;\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n}\r\n"],sourceRoot:""}]);const i=s},88921:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>$});var r=t(87757),o=t.n(r),a=t(9669),s=t.n(a),i=t(56235);function c(n,e,t,r,o,a,s){try{var i=n[a](s),c=i.value}catch(n){return void t(n)}i.done?e(c):Promise.resolve(c).then(r,o)}function l(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function s(n){c(a,r,o,s,i,"next",n)}function i(n){c(a,r,o,s,i,"throw",n)}s(void 0)}))}}const u={metaInfo:function(){return{title:this.$t("Logs")}},props:{file:{type:String,required:!1,default:""}},data:function(){return{size:null,content:null}},computed:{fetchUrl:function(){return(0,i.B)("logs.show").replace("{file}",this.file)},deleteUrl:function(){return(0,i.B)("logs.delete").replace("{file}",this.file)},downloadUrl:function(){return(0,i.B)("logs.download").replace("{file}",this.file)}},created:function(){var n=this;return l(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.$route.params.file?n.fetchLogFile():n.$router.replace({name:"admin.maintenance.index"});case 1:case"end":return e.stop()}}),e)})))()},methods:{fetchLogFile:function(){var n=this;return l(o().mark((function e(){var t,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get(n.fetchUrl);case 2:t=e.sent,r=t.data,a=r.size,i=r.content,n.size=a,n.content=i;case 8:case"end":return e.stop()}}),e)})))()},deleteLogFile:function(){var n=this;return l(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().delete(n.fetchUrl);case 2:t=e.sent,r=t.data,n.$store.dispatch("message/"+(r.success?"success":"error"),{text:r.message}),n.$router.push({name:"admin.maintenance.index"});case 6:case"end":return e.stop()}}),e)})))()}}};var f=t(93379),d=t.n(f),v=t(47379),h={insert:"head",singleton:!1};d()(v.Z,h);v.Z.locals;var p=t(51900),m=t(43453),g=t.n(m),w=t(4330),_=t(43776),x=t(5255),A=t(66530),k=t(6571),C=t(55515),Z=t(22515),b=t(40961),B=t(73845),V=(0,p.Z)(u,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-container",{attrs:{fluid:""}},[t("v-card",[t("v-toolbar",[t("v-btn",{attrs:{icon:""},on:{click:function(e){return n.$router.go(-1)}}},[t("v-icon",[n._v("mdi-arrow-left")])],1),n._v(" "),t("v-toolbar-title",[n._v("\n        "+n._s(n.file)+".log\n        "),null!==n.size?[n._v("\n          ("+n._s(n.size)+" "+n._s(n.$t("MB"))+")\n        ")]:n._e()],2),n._v(" "),t("v-spacer"),n._v(" "),t("v-btn",{attrs:{icon:"",href:n.downloadUrl,target:"_blank"}},[t("v-icon",[n._v("\n          mdi-download\n        ")])],1),n._v(" "),t("v-btn",{attrs:{icon:""},on:{click:n.deleteLogFile}},[t("v-icon",[n._v("\n          mdi-delete\n        ")])],1)],1),n._v(" "),t("v-card-text",[t("v-skeleton-loader",{staticClass:"my-3",attrs:{type:"paragraph@3",loading:null===n.content}},[t("pre",{staticClass:"log"},[n._v(n._s(n.content))])])],1)],1)],1)}),[],!1,null,"906f4f1a",null);const $=V.exports;g()(V,{VBtn:w.Z,VCard:_.Z,VCardText:x.ZB,VContainer:A.Z,VIcon:k.Z,VSkeletonLoader:C.Z,VSpacer:Z.Z,VToolbar:b.Z,VToolbarTitle:B.qW})}}]);
//# sourceMappingURL=admin-maintenance-logs-show.js.map