{"version":3,"sources":["webpack:///./resources/js/pages/email/verify.vue?98e4","webpack:///resources/js/pages/email/verify.vue","webpack:///./resources/js/pages/email/verify.vue?2db3","webpack:///./resources/js/pages/email/verify.vue"],"names":["middleware","metaInfo","_h","this","$createElement","_self","_c"],"mappings":"mHAAA,I,gKCIA,2GAEA,MCNuN,EDMvN,CACEA,WAAY,CAAC,OAAQ,gBAErBC,SAHF,WAII,MAAO,CAAX,sCAGE,iBAPF,SAOA,c,EAAA,yHAEA,oGAFA,gBAEA,EAFA,EAEA,KAGA,eAEA,uCAEA,iGAEA,iCAXA,gDAcA,eACA,qEAEA,+CAjBA,wD,yLEKA,SAXgB,E,SAAA,GACd,GHRW,WAAa,IAAiBC,EAATC,KAAgBC,eAAuC,OAAvDD,KAA0CE,MAAMC,IAAIJ,GAAa,SAC7E,IGUpB,EACA,KACA,KACA,M","file":"js/email-verify.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template/>\r\n<script>\r\nimport axios from 'axios'\r\n\r\nconst qs = (params) => Object.keys(params).map(key => `${key}=${params[key]}`).join('&')\r\n\r\nexport default {\r\n  middleware: ['auth', 'not_verified'],\r\n\r\n  metaInfo () {\r\n    return { title: this.$t('Email verification') }\r\n  },\r\n\r\n  async beforeRouteEnter (to, from, next) {\r\n    try {\r\n      const { data } = await axios.post(`/api/email/verify/${to.params.id}/${to.params.hash}?${qs(to.query)}`)\r\n\r\n      // there is no access to this in beforeRouteEnter()\r\n      next(vm => {\r\n        // Update the user\r\n        vm.$store.dispatch('auth/updateUser', data)\r\n\r\n        vm.$store.dispatch('message/success', { text: vm.$t('Your email address is successfully verified.') })\r\n\r\n        vm.$router.push({ name: 'home' })\r\n      })\r\n    } catch (e) {\r\n      next(vm => {\r\n        vm.$store.dispatch('message/error', { text: e.response.data.message })\r\n\r\n        vm.$router.push({ name: 'verification.index' })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./verify.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./verify.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./verify.vue?vue&type=template&id=957f859a&\"\nimport script from \"./verify.vue?vue&type=script&lang=js&\"\nexport * from \"./verify.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}