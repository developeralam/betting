(self.webpackChunk=self.webpackChunk||[]).push([[8570],{91513:n=>{function r(n,r,t){t=t||0;var e,u,f,o,h,i,a,l=[0,0];return e=n[1][1]-n[0][1],u=n[0][0]-n[1][0],f=e*n[0][0]+u*n[0][1],o=r[1][1]-r[0][1],h=r[0][0]-r[1][0],i=o*r[0][0]+h*r[0][1],q(a=e*h-o*u,0,t)||(l[0]=(h*f-u*i)/a,l[1]=(e*i-o*f)/a),l}function t(n,r,t,e){var u=r[0]-n[0],f=r[1]-n[1],o=e[0]-t[0],h=e[1]-t[1];if(o*f-h*u==0)return!1;var i=(u*(t[1]-n[1])+f*(n[0]-t[0]))/(o*f-h*u),a=(o*(n[1]-t[1])+h*(t[0]-n[0]))/(h*u-o*f);return i>=0&&i<=1&&a>=0&&a<=1}function e(n,r,t){return(r[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(r[1]-n[1])}function u(n,r,t){return e(n,r,t)>0}function f(n,r,t){return e(n,r,t)>=0}function o(n,r,t){return e(n,r,t)<0}function h(n,r,t){return e(n,r,t)<=0}n.exports={decomp:function(n){var r=M(n);return r.length>0?d(n,r):[n]},quickDecomp:function n(r,t,e,i,a,l,p){l=l||100,p=p||0,a=a||25,t=void 0!==t?t:[],e=e||[],i=i||[];var m=[0,0],A=[0,0],b=[0,0],M=0,d=0,q=0,x=0,w=0,y=0,D=0,E=[],L=[],N=r,U=r;if(U.length<3)return t;if(++p>l)return console.warn("quickDecomp: max level ("+l+") reached."),t;for(var V=0;V<r.length;++V)if(s(N,V)){e.push(N[V]),M=d=Number.MAX_VALUE;for(var X=0;X<r.length;++X)u(g(N,V-1),g(N,V),g(N,X))&&h(g(N,V-1),g(N,V),g(N,X-1))&&(b=C(g(N,V-1),g(N,V),g(N,X),g(N,X-1)),o(g(N,V+1),g(N,V),b)&&(q=c(N[V],b))<d&&(d=q,A=b,y=X)),u(g(N,V+1),g(N,V),g(N,X+1))&&h(g(N,V+1),g(N,V),g(N,X))&&(b=C(g(N,V+1),g(N,V),g(N,X),g(N,X+1)),u(g(N,V-1),g(N,V),b)&&(q=c(N[V],b))<M&&(M=q,m=b,w=X));if(y===(w+1)%r.length)b[0]=(A[0]+m[0])/2,b[1]=(A[1]+m[1])/2,i.push(b),V<w?(v(E,N,V,w+1),E.push(b),L.push(b),0!==y&&v(L,N,y,N.length),v(L,N,0,V+1)):(0!==V&&v(E,N,V,N.length),v(E,N,0,w+1),E.push(b),L.push(b),v(L,N,y,V+1));else{if(y>w&&(w+=r.length),x=Number.MAX_VALUE,w<y)return t;for(X=y;X<=w;++X)f(g(N,V-1),g(N,V),g(N,X))&&h(g(N,V+1),g(N,V),g(N,X))&&(q=c(g(N,V),g(N,X)))<x&&k(N,V,X)&&(x=q,D=X%r.length);V<D?(v(E,N,V,D+1),0!==D&&v(L,N,D,U.length),v(L,N,0,V+1)):(0!==V&&v(E,N,V,U.length),v(E,N,0,D+1),v(L,N,D,V+1))}return E.length<L.length?(n(E,t,e,i,a,l,p),n(L,t,e,i,a,l,p)):(n(L,t,e,i,a,l,p),n(E,t,e,i,a,l,p)),t}return t.push(r),t},isSimple:function(n){var r,e=n;for(r=0;r<e.length-1;r++)for(var u=0;u<r-1;u++)if(t(e[r],e[r+1],e[u],e[u+1]))return!1;for(r=1;r<e.length-2;r++)if(t(e[0],e[e.length-1],e[r],e[r+1]))return!1;return!0},removeCollinearPoints:function(n,r){for(var t=0,e=n.length-1;n.length>3&&e>=0;--e)l(g(n,e-1),g(n,e),g(n,e+1),r)&&(n.splice(e%n.length,1),t++);return t},removeDuplicatePoints:function(n,r){for(var t=n.length-1;t>=1;--t)for(var e=n[t],u=t-1;u>=0;--u)x(e,n[u],r)&&n.splice(t,1)},makeCCW:function(n){for(var r=0,t=n,e=1;e<n.length;++e)(t[e][1]<t[r][1]||t[e][1]===t[r][1]&&t[e][0]>t[r][0])&&(r=e);return!u(g(n,r-1),g(n,r),g(n,r+1))&&(function(n){for(var r=[],t=n.length,e=0;e!==t;e++)r.push(n.pop());for(e=0;e!==t;e++)n[e]=r[e]}(n),!0)}};var i=[],a=[];function l(n,r,t,u){if(u){var f=i,o=a;f[0]=r[0]-n[0],f[1]=r[1]-n[1],o[0]=t[0]-r[0],o[1]=t[1]-r[1];var h=f[0]*o[0]+f[1]*o[1],l=Math.sqrt(f[0]*f[0]+f[1]*f[1]),c=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return Math.acos(h/(l*c))<u}return 0===e(n,r,t)}function c(n,r){var t=r[0]-n[0],e=r[1]-n[1];return t*t+e*e}function g(n,r){var t=n.length;return n[r<0?r%t+t:r%t]}function v(n,r,t,e){for(var u=t;u<e;u++)n.push(r[u])}function s(n,r){return o(g(n,r-1),g(n,r),g(n,r+1))}var p=[],m=[];function A(n,t,e){var u,o,i=p,a=m;if(f(g(n,t+1),g(n,t),g(n,e))&&h(g(n,t-1),g(n,t),g(n,e)))return!1;o=c(g(n,t),g(n,e));for(var l=0;l!==n.length;++l)if((l+1)%n.length!==t&&l!==t&&f(g(n,t),g(n,e),g(n,l+1))&&h(g(n,t),g(n,e),g(n,l))&&(i[0]=g(n,t),i[1]=g(n,e),a[0]=g(n,l),a[1]=g(n,l+1),u=r(i,a),c(g(n,t),u)<o))return!1;return!0}function k(n,r,e){for(var u=0;u!==n.length;++u)if(u!==r&&u!==e&&(u+1)%n.length!==r&&(u+1)%n.length!==e&&t(g(n,r),g(n,e),g(n,u),g(n,u+1)))return!1;return!0}function b(n,r,t,e){var u=e||[];if(function(n){n.length=0}(u),r<t)for(var f=r;f<=t;f++)u.push(n[f]);else{for(f=0;f<=t;f++)u.push(n[f]);for(f=r;f<n.length;f++)u.push(n[f])}return u}function M(n){for(var r=[],t=[],e=[],u=[],f=Number.MAX_VALUE,o=0;o<n.length;++o)if(s(n,o))for(var h=0;h<n.length;++h)if(A(n,o,h)){t=M(b(n,o,h,u)),e=M(b(n,h,o,u));for(var i=0;i<e.length;i++)t.push(e[i]);t.length<f&&(r=t,f=t.length,r.push([g(n,o),g(n,h)]))}return r}function d(n,r){if(0===r.length)return[n];if(r instanceof Array&&r.length&&r[0]instanceof Array&&2===r[0].length&&r[0][0]instanceof Array){for(var t=[n],e=0;e<r.length;e++)for(var u=r[e],f=0;f<t.length;f++){var o=d(t[f],u);if(o){t.splice(f,1),t.push(o[0],o[1]);break}}return t}u=r,e=n.indexOf(u[0]),f=n.indexOf(u[1]);return-1!==e&&-1!==f&&[b(n,e,f),b(n,f,e)]}function C(n,r,t,e,u){u=u||0;var f=r[1]-n[1],o=n[0]-r[0],h=f*n[0]+o*n[1],i=e[1]-t[1],a=t[0]-e[0],l=i*t[0]+a*t[1],c=f*a-i*o;return q(c,0,u)?[0,0]:[(a*h-o*l)/c,(f*l-i*h)/c]}function q(n,r,t){return t=t||0,Math.abs(n-r)<=t}function x(n,r,t){return q(n[0],r[0],t)&&q(n[1],r[1],t)}}}]);
//# sourceMappingURL=poly-decomp.js.map