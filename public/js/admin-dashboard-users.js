(self.webpackChunk=self.webpackChunk||[]).push([[5350],{23817:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a={props:{disabled:{type:Boolean,required:!1,default:!1},hideDetails:{type:Boolean,required:!1,default:!1},solo:{type:Boolean,required:!1,default:!1}},data:function(){return{value:"month",options:[{text:this.$t("By day"),value:"day"},{text:this.$t("By week"),value:"week"},{text:this.$t("By month"),value:"month"},{text:this.$t("By year"),value:"year"}]}},methods:{change:function(){this.$emit("change",{period:this.value})}}}},29839:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a={props:{disabled:{type:Boolean,required:!1,default:!1},hideDetails:{type:Boolean,required:!1,default:!1},solo:{type:Boolean,required:!1,default:!1}},data:function(){return{value:null,options:[{text:this.$t("All time"),value:null},{text:this.$t("Last 24 hours"),value:"last24"},{text:this.$t("This week"),value:"week"},{text:this.$t("Previous week"),value:"prev_week"},{text:this.$t("This month"),value:"month"},{text:this.$t("Previous month"),value:"prev_month"},{text:this.$t("This year"),value:"year"},{text:this.$t("Previous year"),value:"prev_year"}]}},methods:{change:function(){this.$emit("change",{period:this.value})}}}},10912:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var a=s(87757),r=s.n(a),n=s(9669),i=s.n(n);function o(t,e,s,a,r,n,i){try{var o=t[n](i),l=o.value}catch(t){return void s(t)}o.done?e(l):Promise.resolve(l).then(a,r)}function l(t){return function(){var e=this,s=arguments;return new Promise((function(a,r){var n=t.apply(e,s);function i(t){o(n,a,r,i,l,"next",t)}function l(t){o(n,a,r,i,l,"throw",t)}i(void 0)}))}}const u={data:function(){return{data:{},endpoint:"/api/admin/dashboard/data"}},computed:{theme:function(){var t=this.$vuetify.theme.isDark?"dark":"light";return this.$vuetify.theme.themes[t]},chartLineColor:function(){return this.theme.primary}},created:function(){var t=this;this.queries.forEach((function(e){return t.loadData(e)}))},methods:{loadData:function(t){var e=arguments,s=this;return l(r().mark((function a(){var n,o,l;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.length>1&&void 0!==e[1]?e[1]:null,s.data[t]&&s.$delete(s.data,t),a.next=4,i().get("".concat(s.endpoint,"/").concat(t),{params:n});case 4:o=a.sent,(l=o.data).success?s.$set(s.data,t,l.data):s.$store.dispatch("message/error",{text:l.message});case 7:case"end":return a.stop()}}),a)})))()}}}},57542:(t,e,s)=>{"use strict";s.d(e,{s:()=>a,x:()=>r});var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-select",{attrs:{items:t.options,label:t.$t("Period"),disabled:t.disabled,solo:t.solo,"hide-details":t.hideDetails,outlined:""},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},r=[]},23345:(t,e,s)=>{"use strict";s.d(e,{s:()=>a,x:()=>r});var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-select",{attrs:{items:t.options,label:t.$t("Period"),disabled:t.disabled,solo:t.solo,"hide-details":t.hideDetails,outlined:""},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},r=[]},48449:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>S});var a=s(74155),r=s(68843),n=s(69893),i=s(80141);const o={components:{PeriodFilter:s(307).Z,ComparisonPeriodFilter:i.Z},mixins:[n.Z],middleware:["auth","verified","2fa_passed","admin"],metaInfo:function(){return{title:this.$t("Dashboard")+" "+this.$t("Users")}},data:function(){return{queries:["users-base","users-sign-ups-comparison","users-sign-ups-by-method"]}},computed:{signUps:function(){return this.data["users-sign-ups-comparison"]||null},previousSignUps:function(){return null!==this.signUps?this.signUps[0]:0},currentSignUps:function(){return null!==this.signUps?this.signUps[1]:0},signUpsByMethod:function(){return this.data["users-sign-ups-by-method"]||null}},methods:{integer:a.integer,short:a.short,ucfirst:r.Ps}};var l=s(51900),u=s(43453),c=s.n(u),d=s(43776),h=s(5255),v=s(17024),p=s(66530),g=s(9550),f=s(57894),m=s(23682),_=s(78720),y=s(55515),b=s(22515),x=s(17325),$=s(43398),U=s(40961),w=s(73845),C=(0,l.Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",lg:"6"}},[s("v-card",{staticClass:"text-center",attrs:{loading:!t.data["users-base"]}},[s("v-toolbar",[s("v-toolbar-title",{staticClass:"headline font-weight-thin"},[t._v("\n            "+t._s(t.$t("User base growth over the last 7 days"))+"\n          ")])],1),t._v(" "),s("v-card-text",[s("v-sheet",[s("v-sparkline",{key:!!t.data["users-base"],attrs:{value:t.data["users-base"]||Array(7).fill(0),color:t.chartLineColor,height:"150",padding:"24","stroke-linecap":"round","line-width":"2",smooth:"5","auto-draw":"","auto-draw-duration":2e3},scopedSlots:t._u([{key:"label",fn:function(e){return[t._v("\n                "+t._s(t.short(e.value))+"\n              ")]}}])})],1)],1)],1)],1),t._v(" "),s("v-col",{staticClass:"text-center",attrs:{cols:"12",lg:"6"}},[s("v-card",{attrs:{loading:!t.signUps}},[s("v-toolbar",[s("v-toolbar-title",{staticClass:"headline font-weight-thin"},[t._v("\n            "+t._s(t.$t("Sign-ups"))+"\n          ")]),t._v(" "),s("v-spacer"),t._v(" "),s("comparison-period-filter",{staticClass:"flex-grow-0",attrs:{disabled:!t.signUps,"hide-details":!0,solo:!0},on:{change:function(e){return t.loadData("users-sign-ups-comparison",e)}}})],1),t._v(" "),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-progress-circular",{attrs:{rotate:-90,size:200,width:30,value:t.previousSignUps>0||t.currentSignUps>0?100*t.previousSignUps/(t.previousSignUps+t.currentSignUps):0,color:t.previousSignUps>0?"primary":""}},[s("span",{staticClass:"headline"},[t._v(t._s(t.previousSignUps))])]),t._v(" "),s("v-subheader",{staticClass:"title font-weight-thin justify-center mt-3"},[t._v("\n                "+t._s(t.$t("previous"))+"\n              ")])],1),t._v(" "),s("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"6"}},[s("v-progress-circular",{attrs:{rotate:-90,size:200,width:30,value:t.previousSignUps>0||t.currentSignUps>0?100*t.currentSignUps/(t.previousSignUps+t.currentSignUps):0,color:t.currentSignUps>0?"primary":""}},[s("span",{staticClass:"headline"},[t._v(t._s(t.currentSignUps))])]),t._v(" "),s("v-subheader",{staticClass:"title font-weight-thin justify-center mt-3"},[t._v("\n                "+t._s(t.$t("current"))+"\n              ")])],1)],1)],1)],1)],1)],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"12",lg:"12"}},[s("v-card",{staticClass:"text-center",attrs:{loading:!t.signUpsByMethod}},[s("v-toolbar",[s("v-toolbar-title",{staticClass:"headline font-weight-thin"},[t._v("\n            "+t._s(t.$t("Sign-ups by source"))+"\n          ")]),t._v(" "),s("v-spacer"),t._v(" "),s("period-filter",{staticClass:"flex-grow-0",attrs:{disabled:!t.signUpsByMethod,"hide-details":!0,solo:!0},on:{change:function(e){return t.loadData("users-sign-ups-by-method",e)}}})],1),t._v(" "),s("v-card-text",[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v(t._s(t.$t("Source")))]),t._v(" "),s("th",{staticClass:"text-right"},[t._v(t._s(t.$t("Count")))])])]),t._v(" "),s("tbody",[t.signUpsByMethod?[t.signUpsByMethod.length?t._l(t.signUpsByMethod,(function(e){return s("tr",{key:e.source},[s("td",{staticClass:"text-left"},[t._v(t._s(t.ucfirst(e.source)))]),t._v(" "),s("td",{staticClass:"text-right"},[t._v(t._s(t.integer(e.count)))])])})):s("tr",[s("td",{attrs:{colspan:"6"}},[t._v("\n                      "+t._s(t.$t("No data found"))+"\n                    ")])])]:t._l(Array(3).fill(0),(function(t,e){return s("tr",{key:e},[s("td",{attrs:{colspan:"2"}},[s("v-skeleton-loader",{attrs:{type:"text"}})],1)])}))],2)]},proxy:!0}])})],1)],1)],1)],1)],1)}),[],!1,null,null,null);const S=C.exports;c()(C,{VCard:d.Z,VCardText:h.ZB,VCol:v.Z,VContainer:p.Z,VProgressCircular:g.Z,VRow:f.Z,VSheet:m.Z,VSimpleTable:_.Z,VSkeletonLoader:y.Z,VSpacer:b.Z,VSparkline:x.Z,VSubheader:$.Z,VToolbar:U.Z,VToolbarTitle:w.qW})}}]);
//# sourceMappingURL=admin-dashboard-users.js.map