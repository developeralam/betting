{"version":3,"sources":["webpack:///./resources/js/plugins/objectToFormData.js","webpack:///./resources/js/components/ImageUpload.vue?366d","webpack:///resources/js/components/ImageUpload.vue","webpack:///./resources/js/components/ImageUpload.vue?3b40","webpack:///./resources/js/components/ImageUpload.vue?9751","webpack:///./resources/js/components/ImageUpload.vue?59c5","webpack:///./resources/js/pages/user/edit.vue?a504","webpack:///resources/js/pages/user/edit.vue","webpack:///./resources/js/pages/user/edit.vue?be27","webpack:///./resources/js/pages/user/edit.vue"],"names":["isArray","value","Array","objectToFormData","obj","fd","pre","FormData","undefined","forEach","Object","isObject","File","isFile","Date","isDate","append","keys","prop","length","lastIndexOf","substring","___CSS_LOADER_EXPORT___","push","module","id","name","props","data","image","imageBase64","computed","this","preview","defaultUrl","methods","setImage","type","match","formImagePropertyName","form","errors","clear","reader","FileReader","onload","readAsDataURL","$emit","options","render","_vm","_h","$createElement","_c","_self","attrs","label","has","get","on","$event","$refs","fileInput","click","scopedSlots","_u","key","fn","proxy","_v","ref","staticClass","staticRenderFns","components","mixins","Form","middleware","metaInfo","email","hide_profit","emailVerificationForm","changed","some","created","changeAvatar","$set","avatar","component","_s","$t","preventDefault","update","model","callback","$$v","formIsValid","expression","validationRequired","clearFormErrors","validationEmail","user","email_verified_at","busy","verifyEmail","avatar_url","VBtn"],"mappings":"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","file":"js/user-edit.js","sourcesContent":["function isUndefined (value) {\r\n  return value === undefined\r\n}\r\n\r\nfunction isObject (value) {\r\n  return value === Object(value)\r\n}\r\n\r\nfunction isArray (value) {\r\n  return Array.isArray(value)\r\n}\r\n\r\nfunction isFile (value) {\r\n  return value instanceof File\r\n}\r\n\r\nfunction isDate (value) {\r\n  return value instanceof Date\r\n}\r\n\r\nexport default function objectToFormData (obj, fd, pre) {\r\n  fd = fd || new FormData()\r\n\r\n  if (isUndefined(obj)) {\r\n    return fd\r\n  } else if (isArray(obj)) {\r\n    obj.forEach(function (value) {\r\n      var key = pre + '[]'\r\n\r\n      objectToFormData(value, fd, key)\r\n    })\r\n  } else if (isObject(obj) && !isFile(obj) && !isDate(obj)) {\r\n    Object.keys(obj).forEach(function (prop) {\r\n      var value = obj[prop]\r\n\r\n      if (isArray(value)) {\r\n        while (prop.length > 2 && prop.lastIndexOf('[]') === prop.length - 2) {\r\n          prop = prop.substring(0, prop.length - 2)\r\n        }\r\n      }\r\n\r\n      var key = pre ? (pre + '[' + prop + ']') : prop\r\n\r\n      objectToFormData(value, fd, key)\r\n    })\r\n  } else {\r\n    fd.append(pre, obj)\r\n  }\r\n\r\n  return fd\r\n}\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".v-avatar[data-v-0b49606c]{cursor:pointer}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/components/ImageUpload.vue\"],\"names\":[],\"mappings\":\"AAwEA,2BACA,cACA\",\"sourcesContent\":[\"<template>\\r\\n  <div>\\r\\n    <v-text-field\\r\\n      :value=\\\"value\\\"\\r\\n      :label=\\\"label\\\"\\r\\n      append-icon=\\\"mdi-paperclip\\\"\\r\\n      outlined\\r\\n      readonly\\r\\n      :error=\\\"formImagePropertyName && form.errors.has(formImagePropertyName)\\\"\\r\\n      :error-messages=\\\"formImagePropertyName ? form.errors.get(formImagePropertyName) : ''\\\"\\r\\n      @click:append=\\\"$refs.fileInput.click()\\\"\\r\\n    >\\r\\n      <template v-if=\\\"preview\\\" v-slot:prepend-inner>\\r\\n        <v-avatar size=\\\"28\\\" tile @click=\\\"$refs.fileInput.click()\\\">\\r\\n          <img :src=\\\"preview\\\" :alt=\\\"label\\\" />\\r\\n        </v-avatar>\\r\\n      </template>\\r\\n    </v-text-field>\\r\\n\\r\\n    <input ref=\\\"fileInput\\\" type=\\\"file\\\" class=\\\"d-none\\\" accept=\\\"image/*\\\" @change=\\\"setImage\\\">\\r\\n  </div>\\r\\n</template>\\r\\n\\r\\n<script>\\r\\nexport default {\\r\\n  name: 'ImageUpload',\\r\\n\\r\\n  props: ['label', 'form', 'formImagePropertyName', 'defaultValue', 'defaultUrl'],\\r\\n\\r\\n  data () {\\r\\n    return {\\r\\n      image: null,\\r\\n      imageBase64: null\\r\\n    }\\r\\n  },\\r\\n\\r\\n  computed: {\\r\\n    value () {\\r\\n      return this.image ? this.image.name : (this.defaultValue || this.$t('Upload a new image'))\\r\\n    },\\r\\n    preview () {\\r\\n      return this.imageBase64 || this.defaultUrl\\r\\n    }\\r\\n  },\\r\\n\\r\\n  methods: {\\r\\n    setImage (event) {\\r\\n      const image = event.target.files[0]\\r\\n\\r\\n      // if uploaded file is an image\\r\\n      if (image && image.type.match(/^image\\\\/.*/)) {\\r\\n        if (this.formImagePropertyName) {\\r\\n          this.form.errors.clear(this.formImagePropertyName)\\r\\n        }\\r\\n\\r\\n        this.image = image\\r\\n\\r\\n        var reader = new FileReader()\\r\\n\\r\\n        // define a callback function to run, when FileReader finishes its job\\r\\n        reader.onload = e => { this.imageBase64 = e.target.result }\\r\\n\\r\\n        // Start the reader job - read file as a data url (base64 format)\\r\\n        reader.readAsDataURL(image)\\r\\n\\r\\n        this.$emit('change', image)\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n</script>\\r\\n<style scoped>\\r\\n.v-avatar {\\r\\n  cursor: pointer;\\r\\n}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\r\n  <div>\r\n    <v-text-field\r\n      :value=\"value\"\r\n      :label=\"label\"\r\n      append-icon=\"mdi-paperclip\"\r\n      outlined\r\n      readonly\r\n      :error=\"formImagePropertyName && form.errors.has(formImagePropertyName)\"\r\n      :error-messages=\"formImagePropertyName ? form.errors.get(formImagePropertyName) : ''\"\r\n      @click:append=\"$refs.fileInput.click()\"\r\n    >\r\n      <template v-if=\"preview\" v-slot:prepend-inner>\r\n        <v-avatar size=\"28\" tile @click=\"$refs.fileInput.click()\">\r\n          <img :src=\"preview\" :alt=\"label\" />\r\n        </v-avatar>\r\n      </template>\r\n    </v-text-field>\r\n\r\n    <input ref=\"fileInput\" type=\"file\" class=\"d-none\" accept=\"image/*\" @change=\"setImage\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ImageUpload',\r\n\r\n  props: ['label', 'form', 'formImagePropertyName', 'defaultValue', 'defaultUrl'],\r\n\r\n  data () {\r\n    return {\r\n      image: null,\r\n      imageBase64: null\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    value () {\r\n      return this.image ? this.image.name : (this.defaultValue || this.$t('Upload a new image'))\r\n    },\r\n    preview () {\r\n      return this.imageBase64 || this.defaultUrl\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    setImage (event) {\r\n      const image = event.target.files[0]\r\n\r\n      // if uploaded file is an image\r\n      if (image && image.type.match(/^image\\/.*/)) {\r\n        if (this.formImagePropertyName) {\r\n          this.form.errors.clear(this.formImagePropertyName)\r\n        }\r\n\r\n        this.image = image\r\n\r\n        var reader = new FileReader()\r\n\r\n        // define a callback function to run, when FileReader finishes its job\r\n        reader.onload = e => { this.imageBase64 = e.target.result }\r\n\r\n        // Start the reader job - read file as a data url (base64 format)\r\n        reader.readAsDataURL(image)\r\n\r\n        this.$emit('change', image)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.v-avatar {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js&\"","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-8[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-8[0].rules[0].use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=style&index=0&id=0b49606c&scoped=true&lang=css&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"value\":_vm.value,\"label\":_vm.label,\"append-icon\":\"mdi-paperclip\",\"outlined\":\"\",\"readonly\":\"\",\"error\":_vm.formImagePropertyName && _vm.form.errors.has(_vm.formImagePropertyName),\"error-messages\":_vm.formImagePropertyName ? _vm.form.errors.get(_vm.formImagePropertyName) : ''},on:{\"click:append\":function($event){return _vm.$refs.fileInput.click()}},scopedSlots:_vm._u([(_vm.preview)?{key:\"prepend-inner\",fn:function(){return [_c('v-avatar',{attrs:{\"size\":\"28\",\"tile\":\"\"},on:{\"click\":function($event){return _vm.$refs.fileInput.click()}}},[_c('img',{attrs:{\"src\":_vm.preview,\"alt\":_vm.label}})])]},proxy:true}:null],null,true)}),_vm._v(\" \"),_c('input',{ref:\"fileInput\",staticClass:\"d-none\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.setImage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"6\",\"lg\":\"4\"}},[_c('v-card',[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('Profile'))+\"\\n          \")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.update($event)}},model:{value:(_vm.formIsValid),callback:function ($$v) {_vm.formIsValid=$$v},expression:\"formIsValid\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('Name'),\"type\":\"text\",\"name\":\"name\",\"rules\":[_vm.validationRequired],\"error\":_vm.form.errors.has('name'),\"error-messages\":_vm.form.errors.get('name'),\"outlined\":\"\"},on:{\"keydown\":function($event){return _vm.clearFormErrors($event,'name')}},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":_vm.$t('Email'),\"type\":\"email\",\"name\":\"email\",\"rules\":[_vm.validationRequired, _vm.validationEmail],\"error\":_vm.form.errors.has('email'),\"error-messages\":_vm.form.errors.get('email'),\"disabled\":!!_vm.user.email_verified_at,\"outlined\":\"\"},on:{\"keydown\":function($event){return _vm.clearFormErrors($event,'email')}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [(_vm.user.email_verified_at)?_c('v-icon',{attrs:{\"color\":\"success\"}},[_vm._v(\"\\n                  mdi-check\\n                \")]):_c('v-btn',{staticClass:\"mt-n2\",attrs:{\"text\":\"\",\"loading\":_vm.emailVerificationForm.busy},on:{\"click\":_vm.verifyEmail}},[_vm._v(\"\\n                  \"+_vm._s(_vm.$t('Verify'))+\"\\n                \")])]},proxy:true}]),model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_vm._v(\" \"),_c('image-upload',{attrs:{\"label\":_vm.$t('Avatar'),\"form\":_vm.form,\"form-image-property-name\":\"avatar\",\"default-value\":_vm.user.avatar,\"default-url\":_vm.user.avatar_url},on:{\"change\":_vm.changeAvatar}}),_vm._v(\" \"),_c('v-switch',{attrs:{\"label\":_vm.$t('Hide profit'),\"color\":\"primary\",\"false-value\":false,\"true-value\":true},model:{value:(_vm.form.hide_profit),callback:function ($$v) {_vm.$set(_vm.form, \"hide_profit\", $$v)},expression:\"form.hide_profit\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"primary\",\"disabled\":!_vm.formIsValid || !_vm.changed || _vm.form.busy,\"loading\":_vm.form.busy}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('Save'))+\"\\n            \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fluid>\r\n    <v-row align=\"center\" justify=\"center\">\r\n      <v-col cols=\"12\" sm=\"8\" md=\"6\" lg=\"4\">\r\n        <v-card>\r\n          <v-toolbar>\r\n            <v-toolbar-title>\r\n              {{ $t('Profile') }}\r\n            </v-toolbar-title>\r\n          </v-toolbar>\r\n          <v-card-text>\r\n            <v-form v-model=\"formIsValid\" @submit.prevent=\"update\">\r\n              <v-text-field\r\n                v-model=\"form.name\"\r\n                :label=\"$t('Name')\"\r\n                type=\"text\"\r\n                name=\"name\"\r\n                :rules=\"[validationRequired]\"\r\n                :error=\"form.errors.has('name')\"\r\n                :error-messages=\"form.errors.get('name')\"\r\n                outlined\r\n                @keydown=\"clearFormErrors($event,'name')\"\r\n              />\r\n\r\n              <v-text-field\r\n                v-model=\"form.email\"\r\n                :label=\"$t('Email')\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                :rules=\"[validationRequired, validationEmail]\"\r\n                :error=\"form.errors.has('email')\"\r\n                :error-messages=\"form.errors.get('email')\"\r\n                :disabled=\"!!user.email_verified_at\"\r\n                outlined\r\n                @keydown=\"clearFormErrors($event,'email')\"\r\n              >\r\n                <template v-slot:append>\r\n                  <v-icon v-if=\"user.email_verified_at\" color=\"success\" >\r\n                    mdi-check\r\n                  </v-icon>\r\n                  <v-btn\r\n                    v-else\r\n                    text\r\n                    class=\"mt-n2\"\r\n                    :loading=\"emailVerificationForm.busy\"\r\n                    @click=\"verifyEmail\"\r\n                  >\r\n                    {{ $t('Verify') }}\r\n                  </v-btn>\r\n                </template>\r\n              </v-text-field>\r\n\r\n              <image-upload\r\n                :label=\"$t('Avatar')\"\r\n                :form=\"form\"\r\n                form-image-property-name=\"avatar\"\r\n                :default-value=\"user.avatar\"\r\n                :default-url=\"user.avatar_url\"\r\n                @change=\"changeAvatar\"\r\n              />\r\n\r\n              <v-switch\r\n                v-model=\"form.hide_profit\"\r\n                :label=\"$t('Hide profit')\"\r\n                color=\"primary\"\r\n                :false-value=\"false\"\r\n                :true-value=\"true\"\r\n              />\r\n\r\n              <v-btn type=\"submit\" color=\"primary\" :disabled=\"!formIsValid || !changed || form.busy\" :loading=\"form.busy\">\r\n                {{ $t('Save') }}\r\n              </v-btn>\r\n            </v-form>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport Form from 'vform'\r\nimport FormMixin from '~/mixins/Form'\r\nimport ImageUpload from '~/components/ImageUpload'\r\nimport { mapState } from 'vuex'\r\nimport objectToFormData from '~/plugins/objectToFormData'\r\n\r\nexport default {\r\n  components: { ImageUpload },\r\n\r\n  mixins: [FormMixin],\r\n\r\n  middleware: ['auth', 'verified', '2fa_passed'],\r\n\r\n  metaInfo () {\r\n    return { title: this.$t('Profile') }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      form: new Form({\r\n        name: null,\r\n        email: null,\r\n        hide_profit: null\r\n      }),\r\n      emailVerificationForm: new Form()\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState('auth', [\r\n      'user'\r\n    ]),\r\n    changed () {\r\n      return this.form.keys().some(key => this.form[key] !== this.user[key])\r\n    }\r\n  },\r\n\r\n  created () {\r\n    // Fill the form with user data.\r\n    this.form.keys().forEach(key => {\r\n      this.form[key] = this.user[key]\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    changeAvatar (avatar) {\r\n      this.$set(this.form, 'avatar', avatar)\r\n    },\r\n    async verifyEmail () {\r\n      await this.emailVerificationForm.submit('post', '/api/email/resend')\r\n\r\n      this.$store.dispatch('message/success', { text: this.$t('A fresh verification link has been sent to your email address.') })\r\n    },\r\n    async update () {\r\n      // transform form data to FormData if avatar is uploaded\r\n      const options = this.form.avatar ? { transformRequest: [(data, headers) => objectToFormData(data)] } : {}\r\n\r\n      const { data } = await this.form.submit('post', '/api/user/update', options)\r\n\r\n      this.$store.dispatch('auth/updateUser', data)\r\n\r\n      this.$store.dispatch('message/success', { text: this.$t('Data successfully updated.') })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=0dc26394&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCol,VContainer,VForm,VIcon,VRow,VSwitch,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}