(self.webpackChunk=self.webpackChunk||[]).push([[9831],{45802:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var n=t(87757),o=t.n(n),a=t(9669),s=t.n(a),i=t(50175),l=t.n(i);function c(e,r,t,n,o,a,s){try{var i=e[a](s),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(n,o)}function d(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function s(e){c(a,n,o,s,i,"next",e)}function i(e){c(a,n,o,s,i,"throw",e)}s(void 0)}))}}const u={middleware:["auth","verified","2fa_passed","admin"],metaInfo:function(){return{title:this.$t("License registration")}},mixins:[t(18623).Z],data:function(){return{form:new(l())({code:null,email:null}),loaded:!1}},created:function(){var e=this;return d(o().mark((function r(){var t,n,a,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().get("/api/admin/license");case 2:t=r.sent,n=t.data,a=n.code,i=n.email,e.form.code=a,e.form.email=i,e.loaded=!0;case 9:case"end":return r.stop()}}),r)})))()},methods:{register:function(){var e=this;return d(o().mark((function r(){var t,n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.form.submit("post","/api/admin/license");case 2:t=r.sent,n=t.data,e.$store.dispatch("message/"+(n.success?"success":"error"),{text:n.message});case 5:case"end":return r.stop()}}),r)})))()}}};var m=t(51900),f=t(43453),v=t.n(f),p=t(4330),h=t(43776),b=t(5255),g=t(17024),x=t(66530),V=t(83240),k=t(57894),w=t(55515),y=t(54933),Z=t(40961),_=t(73845),$=(0,m.Z)(u,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-container",[t("v-row",{attrs:{align:"center",justify:"center"}},[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-card",[t("v-toolbar",[t("v-toolbar-title",[e._v("\n            "+e._s(e.$t("License registration"))+"\n          ")])],1),e._v(" "),t("v-card-text",[t("v-form",{on:{submit:function(r){return r.preventDefault(),e.register(r)}},model:{value:e.formIsValid,callback:function(r){e.formIsValid=r},expression:"formIsValid"}},[t("v-skeleton-loader",{staticClass:"mt-7",attrs:{type:"heading",loading:!e.loaded}},[t("v-text-field",{attrs:{label:e.$t("Purchase code"),type:"text",name:"code",rules:[e.validationRequired],error:e.form.errors.has("code"),"error-messages":e.form.errors.get("code"),outlined:""},on:{keydown:function(r){return e.clearFormErrors(r,"code")}},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}})],1),e._v(" "),t("v-skeleton-loader",{staticClass:"mt-7 mb-7",attrs:{type:"heading",loading:!e.loaded}},[t("v-text-field",{attrs:{label:e.$t("Licensee email"),type:"email",name:"email",rules:[e.validationRequired,e.validationEmail],error:e.form.errors.has("email"),"error-messages":e.form.errors.get("email"),outlined:""},on:{keydown:function(r){return e.clearFormErrors(r,"email")}},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("v-btn",{attrs:{type:"submit",color:"primary",disabled:!e.formIsValid||e.form.busy,loading:e.form.busy}},[e._v("\n              "+e._s(e.$t("Register"))+"\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);const C=$.exports;v()($,{VBtn:p.Z,VCard:h.Z,VCardText:b.ZB,VCol:g.Z,VContainer:x.Z,VForm:V.Z,VRow:k.Z,VSkeletonLoader:w.Z,VTextField:y.Z,VToolbar:Z.Z,VToolbarTitle:_.qW})}}]);
//# sourceMappingURL=admin-license.js.map