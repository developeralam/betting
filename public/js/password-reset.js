(self.webpackChunk=self.webpackChunk||[]).push([[1226],{18181:(r,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>Z});var s=o(87757),t=o.n(s),a=o(15566),n=o(50175),i=o.n(n);function l(r,e,o,s,t,a,n){try{var i=r[a](n),l=i.value}catch(r){return void o(r)}i.done?e(l):Promise.resolve(l).then(s,t)}const d={mixins:[o(18623).Z],middleware:"guest",metaInfo:function(){return{title:this.$t("Password reset")}},data:function(){return{showPassword:!1,showPassword2:!1,form:new(i())({token:null,email:null,password:null,password_confirmation:null})}},computed:{appLogoUrl:function(){return(0,a.v)("app.logo")}},created:function(){this.form.email=this.$route.query.email,this.form.token=this.$route.params.token},methods:{reset:function(){var r,e=this;return(r=t().mark((function r(){var o,s;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.form.post("/api/auth/password/reset");case 2:return o=r.sent,s=o.data,r.next=6,e.$store.dispatch("auth/fetchUser");case 6:e.$store.dispatch("message/success",{text:s.message}),e.$router.push({name:"home"});case 8:case"end":return r.stop()}}),r)})),function(){var e=this,o=arguments;return new Promise((function(s,t){var a=r.apply(e,o);function n(r){l(a,s,t,n,i,"next",r)}function i(r){l(a,s,t,n,i,"throw",r)}n(void 0)}))})()}}};var m=o(51900),c=o(43453),u=o.n(c),f=o(97844),p=o(4330),w=o(43776),v=o(5255),h=o(17024),_=o(66530),b=o(83240),g=o(17100),x=o(57894),y=o(22515),k=o(54933),V=o(40961),P=o(73845),$=(0,m.Z)(d,(function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[o("v-card",{staticClass:"elevation-12"},[o("v-toolbar",{attrs:{color:"primary"}},[o("router-link",{attrs:{to:{name:"home"}}},[o("v-avatar",{attrs:{size:"40",tile:""}},[o("v-img",{attrs:{src:r.appLogoUrl}})],1)],1),r._v(" "),o("v-toolbar-title",{staticClass:"ml-2"},[r._v("\n            "+r._s(r.$t("Password reset"))+"\n          ")]),r._v(" "),o("v-spacer")],1),r._v(" "),o("v-card-text",[o("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),r.reset(e)}},model:{value:r.formIsValid,callback:function(e){r.formIsValid=e},expression:"formIsValid"}},[o("v-text-field",{attrs:{label:r.$t("Email"),type:"email",name:"email",error:r.form.errors.has("email"),"error-messages":r.form.errors.get("email"),outlined:"",readonly:""},model:{value:r.form.email,callback:function(e){r.$set(r.form,"email",e)},expression:"form.email"}}),r._v(" "),o("v-text-field",{attrs:{label:r.$t("Password"),"append-icon":r.showPassword?"mdi-eye":"mdi-eye-off",type:r.showPassword?"text":"password",name:"password",rules:[r.validationRequired,function(e){return r.validationMinLength(e,6)}],error:r.form.errors.has("password"),"error-messages":r.form.errors.get("password"),outlined:"",counter:""},on:{"click:append":function(e){r.showPassword=!r.showPassword},keydown:function(e){return r.clearFormErrors(e,"password")}},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password",e)},expression:"form.password"}}),r._v(" "),o("v-text-field",{attrs:{label:r.$t("Confirm password"),"append-icon":r.showPassword2?"mdi-eye":"mdi-eye-off",type:r.showPassword2?"text":"password",name:"password_confirmation",rules:[r.validationRequired,function(e){return r.validationMatch(r.form.password,e)}],error:r.form.errors.has("password_confirmation"),"error-messages":r.form.errors.get("password_confirmation"),outlined:"",counter:""},on:{"click:append":function(e){r.showPassword2=!r.showPassword2},keydown:function(e){return r.clearFormErrors(e,"password_confirmation")}},model:{value:r.form.password_confirmation,callback:function(e){r.$set(r.form,"password_confirmation",e)},expression:"form.password_confirmation"}}),r._v(" "),o("v-btn",{attrs:{type:"submit",color:"primary",disabled:!r.formIsValid||r.form.busy,loading:r.form.busy}},[r._v("\n              "+r._s(r.$t("Reset"))+"\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);const Z=$.exports;u()($,{VAvatar:f.Z,VBtn:p.Z,VCard:w.Z,VCardText:v.ZB,VCol:h.Z,VContainer:_.Z,VForm:b.Z,VImg:g.Z,VRow:x.Z,VSpacer:y.Z,VTextField:k.Z,VToolbar:V.Z,VToolbarTitle:P.qW})}}]);
//# sourceMappingURL=password-reset.js.map