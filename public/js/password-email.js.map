{"version":3,"sources":["webpack:///./resources/js/pages/password/email.vue?c448","webpack:///resources/js/pages/password/email.vue","webpack:///./resources/js/pages/password/email.vue?28e4","webpack:///./resources/js/pages/password/email.vue"],"names":["components","mixins","Form","middleware","metaInfo","data","computed","appLogoUrl","config","recaptchaPublicKey","methods","component","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","_v","_s","$t","ref","on","$event","preventDefault","reset","model","value","callback","$$v","formIsValid","expression","validationRequired","validationEmail","form","errors","has","get","clearFormErrors","$set","$vuetify","theme","isDark","token","recaptcha","_e","busy","VAvatar"],"mappings":"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","file":"js/password-email.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"6\",\"lg\":\"4\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\"}},[_c('router-link',{attrs:{\"to\":{ name: 'home' }}},[_c('v-avatar',{attrs:{\"size\":\"40\",\"tile\":\"\"}},[_c('v-img',{attrs:{\"src\":_vm.appLogoUrl}})],1)],1),_vm._v(\" \"),_c('v-toolbar-title',{staticClass:\"ml-2\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('Password reset'))+\"\\n          \")]),_vm._v(\" \"),_c('v-spacer')],1),_vm._v(\" \"),_c('v-card-text',[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.reset($event)}},model:{value:(_vm.formIsValid),callback:function ($$v) {_vm.formIsValid=$$v},expression:\"formIsValid\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$t('Email'),\"type\":\"email\",\"name\":\"email\",\"rules\":[_vm.validationRequired, _vm.validationEmail],\"error\":_vm.form.errors.has('email'),\"error-messages\":_vm.form.errors.get('email'),\"outlined\":\"\"},on:{\"keydown\":_vm.clearFormErrors},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_vm._v(\" \"),(_vm.recaptchaPublicKey)?_c('vue-recaptcha',{ref:\"recaptcha\",staticClass:\"mb-3\",attrs:{\"sitekey\":_vm.recaptchaPublicKey,\"loadRecaptchaScript\":true,\"theme\":this.$vuetify.theme.isDark ? 'dark' : 'light'},on:{\"verify\":function (token) { return _vm.form.recaptcha = token; }}}):_vm._e(),_vm._v(\" \"),_c('v-btn',{attrs:{\"type\":\"submit\",\"color\":\"primary\",\"disabled\":!_vm.formIsValid || _vm.form.busy || (!!_vm.recaptchaPublicKey && !_vm.form.recaptcha),\"loading\":_vm.form.busy}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('Reset'))+\"\\n            \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"fill-height\" fluid>\r\n    <v-row align=\"center\" justify=\"center\">\r\n      <v-col cols=\"12\" sm=\"8\" md=\"6\" lg=\"4\">\r\n        <v-card class=\"elevation-12\">\r\n          <v-toolbar color=\"primary\">\r\n            <router-link :to=\"{ name: 'home' }\">\r\n              <v-avatar size=\"40\" tile>\r\n                <v-img :src=\"appLogoUrl\" />\r\n              </v-avatar>\r\n            </router-link>\r\n            <v-toolbar-title class=\"ml-2\">\r\n              {{ $t('Password reset') }}\r\n            </v-toolbar-title>\r\n            <v-spacer />\r\n          </v-toolbar>\r\n          <v-card-text>\r\n            <v-form ref=\"form\" v-model=\"formIsValid\" @submit.prevent=\"reset\">\r\n              <v-text-field\r\n                v-model=\"form.email\"\r\n                :label=\"$t('Email')\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                :rules=\"[validationRequired, validationEmail]\"\r\n                :error=\"form.errors.has('email')\"\r\n                :error-messages=\"form.errors.get('email')\"\r\n                outlined\r\n                @keydown=\"clearFormErrors\"\r\n              />\r\n\r\n              <vue-recaptcha\r\n                v-if=\"recaptchaPublicKey\"\r\n                ref=\"recaptcha\"\r\n                :sitekey=\"recaptchaPublicKey\"\r\n                :loadRecaptchaScript=\"true\"\r\n                :theme=\"this.$vuetify.theme.isDark ? 'dark' : 'light'\"\r\n                @verify=\"token => form.recaptcha = token\"\r\n                class=\"mb-3\"\r\n              />\r\n\r\n              <v-btn type=\"submit\" color=\"primary\" :disabled=\"!formIsValid || form.busy || (!!recaptchaPublicKey && !form.recaptcha)\" :loading=\"form.busy\">\r\n                {{ $t('Reset') }}\r\n              </v-btn>\r\n            </v-form>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { config } from '~/plugins/config'\r\nimport Form from 'vform'\r\nimport FormMixin from '~/mixins/Form'\r\nimport VueRecaptcha from 'vue-recaptcha'\r\n\r\nexport default {\r\n  components: { VueRecaptcha },\r\n\r\n  mixins: [FormMixin],\r\n\r\n  middleware: 'guest',\r\n\r\n  metaInfo () {\r\n    return { title: this.$t('Password reset') }\r\n  },\r\n\r\n  data: () => ({\r\n    form: new Form({\r\n      email: null,\r\n      recaptcha: null\r\n    })\r\n  }),\r\n\r\n  computed: {\r\n    appLogoUrl () {\r\n      return config('app.logo')\r\n    },\r\n    recaptchaPublicKey () {\r\n      return config('services.recaptcha.public_key')\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async reset () {\r\n      const { data } = await this.form.post('/api/auth/password/email')\r\n        .catch(() => {\r\n          if (this.recaptchaPublicKey) {\r\n            this.form.recaptcha = null\r\n            this.$refs.recaptcha.reset()\r\n          }\r\n          return {}\r\n        })\r\n\r\n      // in case of any error data will be undefined\r\n      if (data) {\r\n        this.$store.dispatch('message/success', { text: data.message })\r\n\r\n        this.form.reset()\r\n        this.$refs.recaptcha.reset()\r\n        this.$refs.form.reset()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./email.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./email.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./email.vue?vue&type=template&id=41a6f646&\"\nimport script from \"./email.vue?vue&type=script&lang=js&\"\nexport * from \"./email.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCardText,VCol,VContainer,VForm,VImg,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}